{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "select-pill",
  "type": "registry:component",
  "author": "anhnd13",
  "dependencies": [
    "ng-zorro-antd"
  ],
  "registryDependencies": [
    "pill",
    "dropdown-item"
  ],
  "files": [
    {
      "path": "src/app/shared/components/base/select-pill/select-pill.component.ts",
      "content": "import {\r\n  Component,\r\n  forwardRef,\r\n  HostBinding,\r\n  Input,\r\n  OnChanges,\r\n  SimpleChanges,\r\n} from '@angular/core';\r\nimport { PillColor, PillSize } from '@enums/ui.enum';\r\nimport { NzDropDownModule } from 'ng-zorro-antd/dropdown';\r\nimport { NG_VALUE_ACCESSOR, ReactiveFormsModule } from '@angular/forms';\r\nimport { CommonModule } from '@angular/common';\r\nimport { BaseCVADirective } from '@directives/base-cva/base-cva.directive';\r\nimport { ISelect } from '../select/select.component';\r\nimport { ClickOutsideDirective } from '@directives/click-outside/click-outside.directive';\r\nimport { PillComponent } from '@components/base/pill/pill.component';\r\nimport { DropdownItemComponent } from '@components/base/dropdown-item/dropdown-item.component';\r\n\r\n@Component({\r\n  selector: 'app-select-pill, [app-select-pill]',\r\n  standalone: true,\r\n  imports: [\r\n    CommonModule,\r\n    ReactiveFormsModule,\r\n    NzDropDownModule,\r\n    PillComponent,\r\n    DropdownItemComponent,\r\n    ClickOutsideDirective,\r\n  ],\r\n  templateUrl: './select-pill.component.html',\r\n  providers: [\r\n    {\r\n      provide: NG_VALUE_ACCESSOR,\r\n      useExisting: forwardRef(() => SelectPillComponent),\r\n      multi: true,\r\n    },\r\n  ],\r\n  styleUrl: './select-pill.component.scss',\r\n})\r\nexport class SelectPillComponent<T>\r\n  extends BaseCVADirective<T>\r\n  implements OnChanges\r\n{\r\n  @HostBinding('class.app-select-pill') pill = true;\r\n  @Input() color: PillColor = PillColor.OutlineGrey;\r\n  @Input() size: PillSize = PillSize.Lg;\r\n  @Input() prefixIcon!: string | null;\r\n  @Input() suffixIcon: string | null = 'media/icons/outline/arrow-down-2.svg';\r\n  @Input() options: ISelect[] = [];\r\n\r\n  isActive: boolean = false;\r\n  selectedItem?: ISelect;\r\n\r\n  override writeValue(value: string): void {\r\n    this.selectedItem = this.getOptionByValue(value);\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n    if (changes['options']) this.selectedItem = this.options[0];\r\n  }\r\n\r\n  getOptionByValue(value: string): ISelect | undefined {\r\n    return this.options.find((item) => item.value === value);\r\n  }\r\n\r\n  handleFocus() {\r\n    this._onTouched;\r\n    this.isActive = !this.isActive;\r\n  }\r\n\r\n  handleBlur() {\r\n    this.isActive = false;\r\n  }\r\n\r\n  handleChange(item: ISelect) {\r\n    this.selectedItem = item;\r\n    this._onChange(item.value);\r\n  }\r\n}\r\n",
      "type": "registry:component"
    },
    {
      "path": "src/app/shared/components/base/select-pill/select-pill.component.html",
      "content": "<app-pill\r\n  app-pill\r\n  [color]=\"color\"\r\n  [prefixIcon]=\"prefixIcon\"\r\n  [suffixIcon]=\"suffixIcon\"\r\n  [size]=\"size\"\r\n  [sizeIcon]=\"5\"\r\n  [ngClass]=\"{\r\n    'pill-select': true,\r\n    active: isActive\r\n  }\"\r\n  nz-dropdown\r\n  [nzTrigger]=\"'click'\"\r\n  [nzDropdownMenu]=\"dropDownTpl\"\r\n  [nzPlacement]=\"'bottomRight'\"\r\n  [nzOverlayClassName]=\"'app-select-pill-dropdown'\"\r\n  (click)=\"handleFocus()\"\r\n  (clickOutside)=\"handleBlur()\"\r\n>\r\n  {{ selectedItem?.label }}\r\n</app-pill>\r\n\r\n<nz-dropdown-menu #dropDownTpl=\"nzDropdownMenu\">\r\n  <ul nz-menu>\r\n    <li\r\n      nz-menu-item\r\n      *ngFor=\"let item of options\"\r\n      [ngClass]=\"{\r\n        'ant-dropdown-menu-item-pill': true,\r\n        'ant-dropdown-menu-item-pill-selected':\r\n          item?.value === selectedItem?.value\r\n      }\"\r\n      (click)=\"handleChange(item)\"\r\n    >\r\n      <app-dropdown-item [iconColorChange]=\"false\">\r\n        {{ item.label }}\r\n      </app-dropdown-item>\r\n    </li>\r\n  </ul>\r\n</nz-dropdown-menu>\r\n",
      "type": "registry:component"
    },
    {
      "path": "src/app/shared/components/base/select-pill/select-pill.component.scss",
      "content": ":host.app-select-pill ::ng-deep {\r\n  .pill-select {\r\n    max-width: min(60vw, 240px);\r\n    .title {\r\n      @apply text-ellipsis overflow-hidden whitespace-nowrap;\r\n    }\r\n\r\n    .suffix-icon {\r\n      @apply rotate-0 transition-transform;\r\n    }\r\n\r\n    &.active {\r\n      .suffix-icon {\r\n        @apply -rotate-180;\r\n      }\r\n    }\r\n  }\r\n}\r\n",
      "type": "registry:component"
    }
  ]
}